/**
 * Generated by Kubb (https://kubb.dev/).
 * Do not edit manually.
 */

import fetch from '@/lib/api/http-client.ts'
import type {
  ClusterConnectMutationRequest,
  ClusterConnectMutationResponse,
  ClusterConnect400,
  ClusterConnect422
} from '../models.ts'
import type { RequestConfig, ResponseErrorConfig } from '@/lib/api/http-client.ts'

function getClusterConnectUrl() {
  const res = { method: 'POST', url: `/cluster/connect` as const }
  return res
}

/**
 * @description Connect to Postgres cluster
 * @summary Connect to Postgres cluster
 * {@link /cluster/connect}
 */
export async function clusterConnect(
  data: ClusterConnectMutationRequest,
  config: Partial<RequestConfig<ClusterConnectMutationRequest>> & { client?: typeof fetch } = {}
) {
  const { client: request = fetch, ...requestConfig } = config

  const requestData = data

  const res = await request<
    ClusterConnectMutationResponse,
    ResponseErrorConfig<ClusterConnect400 | ClusterConnect422>,
    ClusterConnectMutationRequest
  >({
    method: 'POST',
    url: getClusterConnectUrl().url.toString(),
    data: requestData,
    ...requestConfig
  })
  return res.data
}
